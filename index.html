<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P1-é³³ç‹å…§å®¶æ ¸å¿ƒ</title>
    <style>
        body { background:#000; color:#fff; text-align:center; font-family:sans-serif; padding:10px; margin:0; overflow:hidden; }
        #WAKE { position:fixed; top:0; left:0; width:100%; height:100%; z-index:9999; background:rgba(0,0,0,0.01); }
        .time-box { border:2px solid #FFD700; border-radius:50px; padding:10px; font-size:40px; color:#FFD700; display:inline-block; margin:10px 0; width:85%; }
        .grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; position:relative; z-index:1; }
        button { padding:15px; font-weight:bold; border-radius:12px; border:none; color:#fff; font-size:16px; cursor:pointer; }
        .b-blue { background:linear-gradient(to bottom, #87CEEB, #4682B4); width:100%; grid-column:span 2; color:#000; }
        .b-red { background:#CD5C5C; } .b-purple { background:#9932CC; } .b-gold { background:#DAA520; } .b-poison { background:#B22222; }
        .b-next { background:#6A5ACD; grid-column:span 2; padding:20px; font-size:18px; margin-top:10px; }
        #L { background:#000; border:2px solid #0f0; border-radius:12px; height:250px; overflow-y:scroll; text-align:left; padding:10px; margin-top:10px; color:#0f0; font-family:monospace; font-size:14px; position:relative; z-index:1; }
    </style>
</head>
<body onload="update()">
    <div id="WAKE" onclick="initSystem()"></div>

    <div class="time-box" id="T">00:00:00</div>
    <div class="grid">
        <button class="b-blue" onclick="A('âš¡ æ°´ç«çŸ­è·¯ (å¿…æ®º)')">âš¡ æ°´ç«çŸ­è·¯ (å¿…æ®º)</button>
        <button class="b-red" onclick="A('ğŸ”¥ ä¸‰å‘³çœŸç«')">ğŸ”¥ ä¸‰å‘³çœŸç«</button>
        <button class="b-purple" onclick="A('â˜ï¸ äº”åè¬äº”é›·')">â˜ï¸ äº”åè¬äº”é›·</button>
        <button class="b-gold" onclick="A('ğŸ”± è¬é¾è¬ç¸')">ğŸ”± è¬é¾è¬ç¸</button>
        <button class="b-poison" onclick="A('ğŸ äº”æ¯’å’’æ„ŸæŸ“')">â˜£ï¸ äº”æ¯’å’’æ„ŸæŸ“</button>
        <button class="b-next" onclick="location.href='blessing.html'">â˜¸ï¸ é€²å…¥ Page 2 (Blessing)</button>
    </div>
    <div id="L">>>> [é™£æ³•å¾…å‘½ï¼šè«‹é»æ“Šç•«é¢ä»»ä½•ä½ç½®å•Ÿå‹•]</div>

    <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function update(){document.getElementById('T').innerText=new Date().toTimeString().split(' ')[0];}
        setInterval(update,1000);

        window.onload=()=>{
            const s=localStorage.getItem('FX_UNIVERSAL_LOG');
            if(s)document.getElementById('L').innerHTML=s;
            jump(); update();
        };

        function jump(){const l=document.getElementById('L'); l.scrollTop=l.scrollHeight;}

        // é³³ç‹å…§å®¶è¨Ÿç¼½è²ï¼šç›´æ¥ç”¨ä»£ç¢¼ç”Ÿæˆæ¸…è„†å˜…ã€Œå®ã€è²
        function ring() {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.type = 'sine';
            osc.frequency.setValueAtTime(523.25, audioCtx.currentTime); // C5 é »ç‡
            gain.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1.5);
            osc.start();
            osc.stop(audioCtx.currentTime + 1.5);
            A("ğŸ”” é³³ç‹è¨Ÿç¼½ 7ç§’å…±é³´ä¸­");
        }

        let sysStarted = false;
        function initSystem() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            if (!sysStarted) {
                sysStarted = true;
                document.getElementById('WAKE').style.display = 'none'; // ç§»é™¤å–šé†’å±¤
                ring(); // ç¬¬ä¸€æ™‚é–“éŸ¿
                setInterval(ring, 7000); // é–æ­»7ç§’è‡ªå‹•éŸ¿
                setInterval(()=> { A("ğŸ›¡ï¸ è‡ªå‹•è·³æ£ï¼šåµæ¸¬å…¥ä¾µè€…ä¸¦å¼·åˆ¶ 500å€åå™¬"); }, 12000);
            }
        }

        function A(msg) {
            const l = document.getElementById('L');
            l.innerHTML += `<div>> [${new Date().toLocaleTimeString()}] ${msg}</div>`;
            localStorage.setItem('FX_UNIVERSAL_LOG', l.innerHTML);
            jump();
        }
    </script>
</body>
</html>
